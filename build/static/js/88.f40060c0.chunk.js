(this.webpackJsonpmaterialpro=this.webpackJsonpmaterialpro||[]).push([[88],{788:function(e,a,t){"use strict";t.r(a);var c=t(73),l=t(1),s=t.n(l),n=t(731);var r=({onClick:e,contactName:a,chatExcerpt:t,thumb:c,status:l})=>s.a.createElement(n.a,{onClick:e},s.a.createElement("span",{className:"message-item"},s.a.createElement("span",{className:"user-img"},s.a.createElement("img",{src:c,alt:"user",className:"rounded-circle",width:""}),s.a.createElement("span",{className:"profile-status pull-right ".concat(l)})),s.a.createElement("div",{className:"mail-contnet"},s.a.createElement("h5",{className:"message-title"},a),s.a.createElement("span",{className:"mail-desc"},t)))),m=t(730),i=t(85),o=t(18),h=t.n(o),d=t(87);const u=(e,a)=>({type:d.y,id:e,chatMsg:a});var p=()=>{const e=Object(i.b)();Object(l.useEffect)(()=>{e(e=>{h.a.get("/api/data/chat/ChatData").then(a=>{e({type:d.m,chats:a.data})}).catch(e=>console.log(e+"action"))})},[e]);const a=Object(i.c)(e=>((e,a)=>e?e.filter(e=>e.name.toLocaleLowerCase().includes(a.toLocaleLowerCase())):e)(e.chatReducer.chats,e.chatReducer.chatSearch));return s.a.createElement(m.a,{className:"list-unstyled d-block mailbox listing-over"},s.a.createElement("div",{className:"message-center",style:{height:"calc(100vh - 274px)"}},a.map(a=>s.a.createElement(r,Object.assign({key:a.id},a,{onClick:()=>{return e((t=a.id,{type:d.D,id:t}));var t},thumb:a.thumb,status:a.status,contactName:a.name,chatExcerpt:a.excerpt})))))},E=t(219),b=t(221);var N=()=>{const e=Object(i.c)(e=>e.chatReducer.chatSearch),a=Object(i.b)();return s.a.createElement("div",{className:"p-3 border-bottom"},s.a.createElement("h5",{className:"card-title"},"Search Contact"),s.a.createElement(E.a,null,s.a.createElement("div",{className:"position-relative has-icon-left"},s.a.createElement(b.a,{className:"form-control",id:"searchUser",name:"searchUser",type:"text",onChange:e=>a((e=>({type:d.C,searchTerm:e}))(e.target.value)),value:e,placeholder:"Type here to search..."}))))},g=t(119),v=t.n(g);var f=e=>{const a=()=>{const e=document.getElementById("chat-list");setTimeout(()=>{e.scrollTo(0,e.scrollHeight)},300)};Object(l.useEffect)(()=>{a.bind(null)},[]);const t=Object(i.c)(e=>e.chatReducer.chats[e.chatReducer.chatContent-1]);return s.a.createElement(l.Fragment,null,t?s.a.createElement("div",null,s.a.createElement("div",{className:"d-flex align-items-center p-3 border-bottom"},s.a.createElement("div",{className:"mr-3"},s.a.createElement("img",{src:t.thumb,alt:"user",className:"rounded-circle",width:"50"})),s.a.createElement("div",null,s.a.createElement("h5",{className:"message-title mb-0"},t.name),s.a.createElement("p",{className:"mb-0"},t.status)),s.a.createElement("div",{className:"ml-auto"},s.a.createElement("i",{className:"fas fa-ellipsis-v"}))),s.a.createElement(v.a,null,s.a.createElement("ul",{id:"chat-list",className:"chat-list p-4",style:{height:"calc(100vh - 334px)"}},Object.keys(t.chatHistory).map(e=>Object.keys(t.chatHistory[e]).map(a=>Object.keys(t.chatHistory[e][a]).map(c=>"from"===c?s.a.createElement("li",{className:"chat-item d-flex",key:c},s.a.createElement("div",{className:"chat-img"},s.a.createElement("img",{src:t.thumb,alt:t.name})),s.a.createElement("div",{className:"pl-3"},t.chatHistory[e][a][c].map(e=>s.a.createElement("div",{className:"chat-content",key:e},s.a.createElement("div",{className:"box bg-light-info"},e))))):s.a.createElement("li",{className:"chat-item odd",key:c},t.chatHistory[e][a][c].map(e=>s.a.createElement("div",{className:"chat-content",key:e},s.a.createElement("div",{className:"box bg-light-info"},e)))))))))):s.a.createElement("div",null,"Select chat"))};var y=()=>{const e=Object(l.useState)(""),a=Object(c.a)(e,2),t=a[0],n=a[1],r=Object(i.c)(e=>e.chatReducer.chatContent),m=Object(i.b)();return s.a.createElement(E.a,{onSubmit:(e=>{e.preventDefault(),e.stopPropagation(),m(u(r,t)),n("")}).bind(),className:"card-body border-top"},s.a.createElement("div",{className:"d-flex"},s.a.createElement(b.a,{type:"text",className:"form-control mr-2",placeholder:"Type your message",onChange:(e=>{n(e.target.value)}).bind(null),value:t,required:!0}),s.a.createElement("button",{onClick:()=>{m(u(r,t)),n("")},className:"btn btn-outline-secondary",type:"button",disabled:!t},s.a.createElement("i",{className:"fas fa-paper-plane"}))))};a.default=()=>{const e=Object(l.useState)(!1),a=Object(c.a)(e,2),t=a[0],n=a[1],r=Object(l.useState)(!1),m=Object(c.a)(r,2),i=m[0],o=m[1];return s.a.createElement(l.Fragment,null,s.a.createElement("div",{className:"app-drawer"},s.a.createElement("div",{className:"left-part bg-white "+(!0===t?"show-panel":"")},s.a.createElement(N,null),s.a.createElement(p,{showRightPart:(()=>{o(!i)}).bind(null)})),s.a.createElement("div",{className:"right-part bg-white app-drawer-content"},s.a.createElement("div",{className:!0===i?"show-right-left-panel":""},s.a.createElement("span",{onClick:(()=>{n(!t)}).bind(null),className:"bg-primary show-left-part text-white d-block d-lg-none "+(!0===t?"left-part-open":"")},s.a.createElement("i",{className:!0===t?"fas fa-chevron-left":"fas fa-chevron-right"})),s.a.createElement(f,null),s.a.createElement(y,null)))))}}}]);
//# sourceMappingURL=88.f40060c0.chunk.js.map